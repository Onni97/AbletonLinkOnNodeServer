<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Link</title>
    <link rel="stylesheet" type="text/css" href="../static/style/bootstrap-4.4.1.min.css"/>
    <link rel="stylesheet" type="text/css" href="../static/style/style.css"/>
    <link rel="stylesheet" type="text/css" href="../static/style/styleDeviceSelect.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'/>
</head>
<body>

<div id="titleRow" class="row">
    <div class="col">
        <h1>Select your device</h1>
    </div>
</div>
<div id="deviceSelectDiv"></div>


<footer></footer>
</body>

<script type="application/javascript">
    let device = {
        "isPC": null,
        "vendor": null,
        "model": null,
        "version": null
    }

    //get the footer
    $.ajax({
        url: window.location.href + "footer",
        type: 'get',
        success: function (response) {
            // Add response in mainPage
            $('footer').html(response);
        },
        async: true
    });

    //set the initial page
    $.ajax({
        url: window.location.href + "deviceSelectPC-Mobile",
        type: 'get',
        success: function (response) {
            // Add response in mainPage
            $('#deviceSelectDiv').html(response);
        },
        async: true
    });


    //functions to change choices
    let changeSelection = function (url) {
        $('.card').css({
            'opacity': '0',
        });
        setTimeout(function () {
            $.ajax({
                url: url,
                type: 'get',
                success: function (response) {
                    // Add response in mainPage
                    $('#deviceSelectDiv').html(response);
                },
                async: true
            });
        }, 300);
    }
    let appear = function () {
        setTimeout(function () {
            $('.card').removeAttr('style');
            setTimeout(function () {
            }, 300);
        }, 10);
    }


    //function to go on the link page
    let goOnLink = function () {
        $.ajax({
            url: window.location.href + "setDevice",
            type: 'post',
            data: {
                "isPC": device.isPC,
                "vendor": device.vendor,
                "model": device.model,
                "version": device.version
            },
            success: function (response) {
                window.location.href = window.location.href + "link";
            },
            async: false
        });
    }
</script>
</html>